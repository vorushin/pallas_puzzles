<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>

    <!-- Titles -->
    <mxCell id="2" value="&lt;b&gt;lhs&lt;/b&gt;" style="text;fontSize=13;fontColor=#333333;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="0" width="80" height="18" as="geometry"/>
    </mxCell>
    <mxCell id="3" value="&lt;b&gt;rhs&lt;/b&gt;" style="text;fontSize=13;fontColor=#333333;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="128" y="0" width="50" height="18" as="geometry"/>
    </mxCell>
    <mxCell id="4" value="&lt;b&gt;out&lt;/b&gt;" style="text;fontSize=13;fontColor=#333333;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="226" y="0" width="40" height="18" as="geometry"/>
    </mxCell>

    <!-- Subtitles (shapes) -->
    <mxCell id="5" value="&lt;i&gt;M &amp;times; K&lt;/i&gt;" style="text;fontSize=10;fontColor=#888888;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="18" width="80" height="14" as="geometry"/>
    </mxCell>
    <mxCell id="6" value="&lt;i&gt;G &amp;times; K &amp;times; N&lt;/i&gt;" style="text;fontSize=10;fontColor=#888888;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="118" y="18" width="70" height="14" as="geometry"/>
    </mxCell>
    <mxCell id="7" value="&lt;i&gt;M &amp;times; N&lt;/i&gt;" style="text;fontSize=10;fontColor=#888888;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="226" y="18" width="40" height="14" as="geometry"/>
    </mxCell>

    <!-- lhs bands (M=1024: g0=300, g1=212, g2=512, proportional heights) -->
    <mxCell id="10" value="g&lt;sub&gt;0&lt;/sub&gt;: 300" style="rounded=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;html=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="36" width="80" height="44" as="geometry"/>
    </mxCell>
    <mxCell id="11" value="g&lt;sub&gt;1&lt;/sub&gt;: 212" style="rounded=0;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;html=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="80" width="80" height="31" as="geometry"/>
    </mxCell>
    <mxCell id="12" value="g&lt;sub&gt;2&lt;/sub&gt;: 512" style="rounded=0;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;html=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="111" width="80" height="75" as="geometry"/>
    </mxCell>

    <!-- rhs blocks (G=3, each K x N, evenly spaced to match lhs height) -->
    <mxCell id="20" value="W&lt;sub&gt;0&lt;/sub&gt;" style="rounded=0;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1;html=1;" vertex="1" parent="1">
      <mxGeometry x="128" y="36" width="50" height="46" as="geometry"/>
    </mxCell>
    <mxCell id="21" value="W&lt;sub&gt;1&lt;/sub&gt;" style="rounded=0;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1;html=1;" vertex="1" parent="1">
      <mxGeometry x="128" y="88" width="50" height="46" as="geometry"/>
    </mxCell>
    <mxCell id="22" value="W&lt;sub&gt;2&lt;/sub&gt;" style="rounded=0;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1;html=1;" vertex="1" parent="1">
      <mxGeometry x="128" y="140" width="50" height="46" as="geometry"/>
    </mxCell>

    <!-- out bands (same grouping as lhs, same colors) -->
    <mxCell id="30" value="" style="rounded=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
      <mxGeometry x="226" y="36" width="40" height="44" as="geometry"/>
    </mxCell>
    <mxCell id="31" value="" style="rounded=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
      <mxGeometry x="226" y="80" width="40" height="31" as="geometry"/>
    </mxCell>
    <mxCell id="32" value="" style="rounded=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
      <mxGeometry x="226" y="111" width="40" height="75" as="geometry"/>
    </mxCell>

    <!-- @ operator -->
    <mxCell id="40" value="@" style="text;fontSize=15;fontColor=#333333;align=center;verticalAlign=middle;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="92" y="99" width="24" height="24" as="geometry"/>
    </mxCell>

    <!-- = operator -->
    <mxCell id="41" value="=" style="text;fontSize=15;fontColor=#333333;align=center;verticalAlign=middle;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="190" y="99" width="24" height="24" as="geometry"/>
    </mxCell>

    <!-- Annotation -->
    <mxCell id="50" value="group_sizes = [300, 212, 512], M = 1024" style="text;fontSize=10;fontColor=#666666;fontStyle=2;align=center;html=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="196" width="266" height="18" as="geometry"/>
    </mxCell>
  </root>
</mxGraphModel>
